<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Generator tài khoản ảo</title>
  <style>
    *{box-sizing:border-box}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:#0b1020;color:#e7e9ee}
    .wrap{max-width:900px;margin:24px auto;padding:16px}
    .card{background:#131833;border:1px solid #223; border-radius:16px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.35)}
    h1{font-size:22px;margin:0 0 16px}
    label{display:block;font-size:14px;margin:10px 0 6px;color:#b7bfdc}
    input,select,button{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #2a3355;background:#0e1430;color:#e7e9ee}
    input:focus,select:focus{outline:2px solid #445bff}
    .row{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    .row-3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .mt{margin-top:14px}
    .list{margin-top:16px;display:grid;gap:10px}
    .item{display:grid;grid-template-columns:1.6fr 1.2fr 1.6fr auto;gap:10px;align-items:center;background:#0e1430;border:1px solid #1e2645;border-radius:12px;padding:8px}
    .item code{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .btn{cursor:pointer;user-select:none}
    .badge{font-size:12px;color:#9fb0ff}
    .footer{opacity:.7;font-size:12px;margin-top:10px}
    @media (max-width:800px){.row,.row-3,.item{grid-template-columns:1fr}} 
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Generator tài khoản ảo (dùng thủ công)</h1>
      <div class="row-3">
        <div>
          <label>Độ dài username</label>
          <input id="uLen" type="number" value="10" min="3" max="20" />
        </div>
        <div>
          <label>Độ dài mật khẩu</label>
          <input id="pLen" type="number" value="12" min="6" max="64" />
        </div>
        <div>
          <label>Số lượng cần tạo</label>
          <input id="count" type="number" value="50" min="1" max="1000" />
        </div>
      </div>
      <div class="row mt">
        <div>
          <label>Domain email</label>
          <input id="domain" value="example.com" />
          <div class="footer">Gợi ý: dùng domain riêng/alias. Không khuyến khích spam website của người khác.</div>
        </div>
        <div>
          <label>Prefix username (tùy chọn)</label>
          <input id="prefix" placeholder="vd: herotest_" />
        </div>
        <div>
          <label>Chữ số cuối (0-9, tuỳ chọn)</label>
          <select id="digits">
            <option value="mixed" selected>Ngẫu nhiên chữ+ số</option>
            <option value="letters">Chỉ chữ</option>
            <option value="numbers">Chỉ số</option>
          </select>
        </div>
        <div style="display:flex;align-items:flex-end">
          <button id="gen" class="btn">Tạo danh sách</button>
        </div>
      </div>
      <div class="mt">
        <button id="dl" class="btn">Tải CSV</button>
        <button id="openReg" class="btn">Mở trang đăng ký (tab mới)</button>
        <span class="badge" id="status"></span>
      </div>
      <div class="list" id="list"></div>
    </div>
  </div>

  <script>
    const abc = 'abcdefghijklmnopqrstuvwxyz';
    const num = '0123456789';
    function rand(n, pool){
      let s='';
      for(let i=0;i<n;i++) s+= pool[Math.floor(Math.random()*pool.length)];
      return s;
    }
    function randUser(n, mode){
      let pool = abc + num;
      if(mode==='letters') pool = abc;
      if(mode==='numbers') pool = num;
      const first = abc[Math.floor(Math.random()*abc.length)];
      return first + rand(n-1, pool);
    }
    function randPass(n){
      const pool = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
      return rand(n, pool);
    }

    function generate(){
      const uLen = Math.max(3, Math.min(20, parseInt(document.getElementById('uLen').value||10)));
      const pLen = Math.max(6, Math.min(64, parseInt(document.getElementById('pLen').value||12)));
      const count = Math.max(1, Math.min(1000, parseInt(document.getElementById('count').value||50)));
      const domain = (document.getElementById('domain').value||'example.com').trim();
      const prefix = (document.getElementById('prefix').value||'').trim();
      const digits = document.getElementById('digits').value;

      const list = document.getElementById('list');
      list.innerHTML='';
      const rows = [];

      for(let i=0;i<count;i++){
        const u = prefix + randUser(uLen, digits);
        const p = randPass(pLen);
        const e = `${u}@${domain}`;
        rows.push({username:u,password:p,email:e});

        const row = document.createElement('div');
        row.className='item';
        row.innerHTML = `
          <code title="username">${u}</code>
          <code title="password">${p}</code>
          <code title="email">${e}</code>
          <button class="btn copy">Copy</button>
        `;
        row.querySelector('.copy').onclick = () => {
          navigator.clipboard.writeText(`${u}	${p}	${e}`);
          setStatus('Đã copy 1 dòng');
        };
        list.appendChild(row);
      }
      list.dataset.rows = JSON.stringify(rows);
      setStatus(`Đã tạo ${rows.length} dòng`);
    }

    function setStatus(t){
      document.getElementById('status').textContent = t;
      setTimeout(()=>{document.getElementById('status').textContent='';}, 2500);
    }

    function downloadCSV(){
      const rows = JSON.parse(document.getElementById('list').dataset.rows||'[]');
      if(!rows.length){setStatus('Chưa có dữ liệu');return;}
      const header = ['username','password','email'];
      const csv = [header.join(',')].concat(rows.map(r=> header.map(h=> r[h]).join(','))).join('
');
      const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'accounts.csv'; a.click();
      URL.revokeObjectURL(url);
    }

    document.getElementById('gen').onclick = generate;
    document.getElementById('dl').onclick = downloadCSV;
    document.getElementById('openReg').onclick = () => {
      window.open('https://heromc.net/dang-ky/','_blank');
    };

    generate();
  </script>
</body>
</html>
